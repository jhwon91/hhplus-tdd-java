# hhplus-tdd-java
π›³οΈ Test Driven Development

# 1. λ©ν‘

---

### `point` ν¨ν‚¤μ§€μ TODO μ™€ ν…μ¤νΈμ½”λ“λ¥Ό μ‘μ„±ν•΄μ£Όμ„Έμ”.

**μ”κµ¬ μ‚¬ν•­**

- PATCH  `/point/{id}/charge` : ν¬μΈνΈλ¥Ό μ¶©μ „ν•λ‹¤.
- PATCH `/point/{id}/use` : ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.
- GET `/point/{id}` : ν¬μΈνΈλ¥Ό μ΅°νν•λ‹¤.
- GET `/point/{id}/histories` : ν¬μΈνΈ λ‚΄μ—­μ„ μ΅°νν•λ‹¤.
- μ”κ³ κ°€ λ¶€μ΅±ν•  κ²½μ°, ν¬μΈνΈ μ‚¬μ©μ€ μ‹¤ν¨ν•μ—¬μ•Ό ν•©λ‹λ‹¤.
- λ™μ‹μ— μ—¬λ¬ κ±΄μ ν¬μΈνΈ μ¶©μ „, μ΄μ© μ”μ²­μ΄ λ“¤μ–΄μ¬ κ²½μ° μμ°¨μ μΌλ΅ μ²λ¦¬λμ–΄μ•Ό ν•©λ‹λ‹¤.

### `Default`

- `/point` ν¨ν‚¤μ§€ (λ””λ ‰ν† λ¦¬) λ‚΄μ— `PointService` κΈ°λ³Έ κΈ°λ¥ μ‘μ„±
- `/database` ν¨ν‚¤μ§€μ κµ¬ν„μ²΄λ” μμ •ν•μ§€ μ•κ³ , μ΄λ¥Ό ν™μ©ν•΄ κΈ°λ¥μ„ κµ¬ν„
- κ° κΈ°λ¥μ— λ€ν• λ‹¨μ„ ν…μ¤νΈ μ‘μ„±

> μ΄ 4κ°€μ§€ κΈ°λ³Έ κΈ°λ¥ (ν¬μΈνΈ μ΅°ν, ν¬μΈνΈ μ¶©μ „/μ‚¬μ© λ‚΄μ—­ μ΅°ν, μ¶©μ „, μ‚¬μ©) μ„ κµ¬ν„ν•©λ‹λ‹¤.
>

### `Step 1`

- ν¬μΈνΈ μ¶©μ „, μ‚¬μ©μ— λ€ν• μ •μ±… μ¶”κ°€ (μ”κ³  λ¶€μ΅±, μµλ€ μ”κ³  λ“±)
- λ™μ‹μ— μ—¬λ¬ μ”μ²­μ΄ λ“¤μ–΄μ¤λ”λΌλ„ μμ„λ€λ΅ (νΉμ€ ν•λ²μ— ν•λ‚μ μ”μ²­μ”©λ§) μ μ–΄λ  μ μλ„λ΅ λ¦¬ν©ν† λ§
- λ™μ‹μ„± μ μ–΄μ— λ€ν• ν†µν•© ν…μ¤νΈ μ‘μ„±



### `Step 2`

- λ™μ‹μ„± μ μ–΄ λ°©μ‹μ— λ€ν• λ¶„μ„ λ° λ³΄κ³ μ„ μ‘μ„± ( **README.md** )

---

# 2. μ§„ν–‰ λ°©ν–¥μ„±

## π“Β κΈ°λ³Έμ μΈ κΈ°λ¥ κµ¬ν„

- PointService ν΄λμ¤μ—μ„ **ν¬μΈνΈ μ¶©μ „**, **μ‚¬μ©**, **μ΅°ν**, **λ‚΄μ—­ μ΅°ν** κΈ°λ¥μ„ κµ¬ν„ν–μµλ‹λ‹¤.
- κ° API μ—”λ“ν¬μΈνΈλ” PointControllerμ—μ„ κµ¬ν„ν•μ—¬  ν…μ¤νΈ μ™„λ£ ν•μ€μµλ‹λ‹¤.

## π“Β μ •μ±… μ¶”κ°€

- μ”κ³  λ¶€μ΅± μ‹ ν¬μΈνΈ μ‚¬μ© μ‹¤ν¨λ¥Ό μ²λ¦¬ν•κΈ° μ„ν• λ΅μ§μ„ μ¶”κ°€ν•  μμ •μ…λ‹λ‹¤. ν„μ¬ useUserPoint λ©”μ„λ“μ—μ„ μ”κ³  ν™•μΈ ν›„ μμ™Έλ¥Ό λ°μƒμ‹ν‚¤λ„λ΅ μμ •ν•  κ³„νμ…λ‹λ‹¤.
- ν¬μΈνΈμ μµλ€ μ¶©μ „ ν•λ„ λ° κΈ°νƒ€ μ •μ±…μ— λ€ν• μ¶”κ°€μ μΈ κµ¬ν„λ„ κ³ λ ¤ μ¤‘μ…λ‹λ‹¤.

## π“Β λ™μ‹μ„± λ¬Έμ  ν•΄κ²°

- λ™μ‹μ— μ—¬λ¬ κ±΄μ μ”μ²­μ΄ λ“¤μ–΄μ¬ λ• μμ°¨μ μΌλ΅ μ²λ¦¬λ  μ μλ„λ΅ ν•κΈ° μ„ν• μ‘μ—…μ΄ ν•„μ”ν•©λ‹λ‹¤.
- μ΄ λ¶€λ¶„μ— λ€ν•΄ νΈλμ­μ… κ΄€λ¦¬μ™€ synchronized ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•  κ³„νμ…λ‹λ‹¤.
- μ¶”κ°€μ μΈ λ™μ‹μ„± μ μ–΄ ν…μ¤νΈλ¥Ό ν†µν•΄ μ„±λ¥ λ° λ¬΄κ²°μ„±μ„ ν™•μΈν•  μμ •μ…λ‹λ‹¤.

# 3. μ§„μ²™λ„

## β…Β **μ™„λ£λ μ‘μ—…**:

### PointService κµ¬ν„

- **ν¬μΈνΈ μ¶©μ „ κΈ°λ¥** (chargeUserPoint) μ™„λ£
- **ν¬μΈνΈ μ‚¬μ© κΈ°λ¥** (useUserPoint) μ™„λ£ (μ”κ³  λ¶€μ΅± μ²λ¦¬ ν•„μ”)
- **ν¬μΈνΈ μ΅°ν κΈ°λ¥** (getUserPoint) μ™„λ£
- **ν¬μΈνΈ λ‚΄μ—­ μ΅°ν κΈ°λ¥** (getUserPointHistory) μ™„λ£
- **μ”κ³  λ¶€μ΅± μ‹ ν¬μΈνΈ μ‚¬μ© μ‹¤ν¨ μ²λ¦¬**κ°€ μ•„μ§ λ°μ μ™„λ£

### PointController κµ¬ν„

- κ°κ°μ API μ—”λ“ν¬μΈνΈ κµ¬ν„ μ™„λ£
- λ΅κ·Έ κΈ°λ΅μ„ ν†µν•΄ μ”μ²­λ§λ‹¤ μ‚¬μ©μ ID λ° κΈμ•΅ μ •λ³΄ μ¶λ ¥

## πΒ **μ§„ν–‰ μ¤‘μΈ μ‘μ—…**

- **λ™μ‹μ„± μ μ–΄**λ¥Ό μ„ν• λ¦¬ν©ν† λ§ ν•„μ” (μμ°¨μ  μ²λ¦¬ λ° ν…μ¤νΈ)

## βΒ **λ‚¨μ€ μ‘μ—…**

- **λ™μ‹μ„± λ¬Έμ  ν•΄κ²°**: μ—¬λ¬ μ”μ²­μ΄ λ™μ‹μ— λ“¤μ–΄μ¬ λ• μμ°¨μ μΌλ΅ μ²λ¦¬λ  μ μλ„λ΅ μ„¤κ³„ μμ •
- **λ™μ‹μ„± μ μ–΄μ— λ€ν• ν†µν•© ν…μ¤νΈ** μ‘μ„±
- **README μ‘μ„±**: λ™μ‹μ„± μ μ–΄ λ°©μ‹ λ° μ‚¬μ©λ κΈ°μ μ— λ€ν• μ„¤λ…